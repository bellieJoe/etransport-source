<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Checkout</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content color="background">
  <ion-list>
    <ion-list-header >
      <ion-label color="primary">Payment Breakdown</ion-label>
    </ion-list-header>
    <ion-item lines="full" *ngIf="transport_booking.payment.breakdown.breakdown.passenger > 0">
      <ion-label>Passenger Reservations</ion-label>
      <ion-label slot="end">{{ transport_booking.payment.breakdown.breakdown.passenger | currency:'PHP' }}</ion-label>
    </ion-item>
    <ion-item lines="full" *ngIf="transport_booking.payment.breakdown.breakdown.animal > 0">
      <ion-label>Animal Reservations</ion-label>
      <ion-label slot="end">{{ transport_booking.payment.breakdown.breakdown.animal | currency:'PHP' }}</ion-label>
    </ion-item>
    <ion-item lines="full" *ngIf="transport_booking.payment.breakdown.breakdown.luggage.small > 0 ">
      <ion-label>Luggage Reservations(SM)</ion-label>
      <ion-label slot="end">{{ transport_booking.payment.breakdown.breakdown.luggage.small | currency:'PHP' }}</ion-label>
    </ion-item>
    <ion-item lines="full" *ngIf="transport_booking.payment.breakdown.breakdown.luggage.medium > 0 ">
      <ion-label>Luggage Reservations(M)</ion-label>
      <ion-label slot="end">{{ transport_booking.payment.breakdown.breakdown.luggage.medium | currency:'PHP' }}</ion-label>
    </ion-item>
    <ion-item lines="full" *ngIf="transport_booking.payment.breakdown.breakdown.luggage.large > 0 ">
      <ion-label>Luggage Reservations(L)</ion-label>
      <ion-label slot="end">{{ transport_booking.payment.breakdown.breakdown.luggage.large | currency:'PHP' }}</ion-label>
    </ion-item>
    <ion-item lines="full" *ngIf="transport_booking.payment.breakdown.breakdown.luggage.extra_large > 0 ">
      <ion-label>Luggage Reservations(XL)</ion-label>
      <ion-label slot="end">{{ transport_booking.payment.breakdown.breakdown.luggage.extra_large | currency:'PHP' }}</ion-label>
    </ion-item>
    

    <p class="text-center py-3 text-secondary mb-0">**Nothing Follows**</p>

    <ion-item color="warning" class="mt-3" lines="full" (click)="paymentService.checkPayment(transport_booking.payment.payment_id)">
      <ion-label >Check Payment?</ion-label>
      <ion-label class="text-secondary" slot="end">For testing only</ion-label>
    </ion-item>

  </ion-list>
</ion-content>

<ion-footer>
  <div class="row p-3">
    <div class="col">
      <p class="mb-0">Total</p>
      <p class="mb-0 fw-bold">{{ transport_booking.payment.breakdown.total | currency:'PHP' }}</p>
    </div>
    <div class="col-auto justify-self-end">
      <ion-button  [href]="transport_booking.payment.payment_data.data.attributes.checkout_url" target="_blank">
        <ion-icon name="card-outline" slot="start"></ion-icon>
        Pay
      </ion-button>
    </div>
  </div>
</ion-footer>
